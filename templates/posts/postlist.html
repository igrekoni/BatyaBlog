{% extends "index.html" %}
{% load static %}

{% block content %}
    <div class="row">
        {% for obj in postsList %}
            <div class="col-sm-12 news-list">
                <div class="thumbnail">
                    {% if obj.image %}
                        <img src="{{ obj.image.url }}" alt="{{ obj.title }}" class="img-responsive">
                    {% endif %}
                    <div class="caption">
                        <h3><a href="{{ obj.get_absolute_url }}">{{ obj.title }}</a> <small>{{ obj.timestamp|timesince }}</small></h3>
                        <p>{{ obj.previewText|linebreaks|truncatechars:120 }}</p>
                        <p><a href="{{ obj.get_absolute_url }}" class="btn btn-primary" role="button">Читать дальше</a></p>
                    </div>
                </div>
            </div>
        {% endfor %}

        <div class="pagination">
            <span class="step-links">
                {% if postsList.has_previous %}
                    <a href="?{{ page_request_var }}={{ postsList.previous_page_number }}">Назад</a>
                {% endif %}

                <span class="current">
                    Страница {{ postsList.number }} из {{ postsList.paginator.num_pages }}.
                </span>

                {% if postsList.has_next %}
                    <a href="?{{ page_request_var }}={{ postsList.next_page_number }}">Вперёд</a>
                {% endif %}
            </span>
        </div>
    </div>
{% endblock content %}